apiVersion: llamastack.io/v1alpha1
kind: LlamaStackDistribution
metadata:
  annotations:
    argocd.argoproj.io/sync-wave: "3"
    argocd.argoproj.io/compare-options: IgnoreExtraneous
    argocd.argoproj.io/sync-options: Prune=false
  name: llamastack
spec:
  replicas: 1
  server:
    containerSpec:
      env:
        - name: GRANITE_VLLM
          value: 'http://granite-8b-predictor.llm-hosting.svc.cluster.local:8080/v1'
        - name: GRANITE_TOKEN
          value: openshift
      name: llama-stack
      port: 8321
    distribution:
      name: remote-vllm
    userConfig:
      configMapName: llama-stack-config